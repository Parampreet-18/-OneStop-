<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ShopWithUs - Your Online Store</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .hero {
      background-image: url('https://images.unsplash.com/photo-1517649763962-0c623066013b?auto=format&fit=crop&w=1600&q=80');
      background-size: cover;
      background-position: center;
    }
  </style>
</head>
<body class="bg-amber-100">

  <!-- Navbar -->
  <nav class="bg-white shadow-md p-4 flex justify-between items-center sticky top-0 z-50">
    <h1 class="text-2xl font-bold text-blue-600">ShopWithUs</h1>
    <a href="/wishlist.html" class="text-blue-600 font-medium hover:underline">Wishlist</a>
  </nav>

  <!-- Hero Section -->
  <header class="hero text-white text-center py-32 relative">
    <div class="bg-black bg-opacity-50 absolute inset-0"></div>
    <div class="relative z-10">
      <h2 class="text-5xl font-bold mb-4">Welcome to ShopWithUs</h2>
      <p class="text-xl">Your one-stop shop for all sports gear</p>
    </div>
  </header>

  <!-- Filter & Search Section -->
  <section class="container mx-auto px-4 mt-10">
    <div class="flex flex-col md:flex-row flex-wrap justify-between mb-6 gap-4">
      <div>
        <label class="text-lg mr-2 font-medium">Search:</label>
        <input type="text" id="search-input" placeholder="Search product..." class="border rounded px-3 py-1 w-64">
      </div>
      <div>
        <label class="text-lg mr-2 font-medium">Filter by Price:</label>
        <select id="price-filter" class="border rounded px-3 py-1">
          <option value="all">All</option>
          <option value="0-500">â‚¹0 - â‚¹500</option>
          <option value="501-1500">â‚¹501 - â‚¹1500</option>
          <option value="1501-2500">â‚¹1501 - â‚¹2500</option>
        </select>
      </div>
      <div>
        <label class="text-lg mr-2 font-medium">Filter by Rating:</label>
        <select id="rating-filter" class="border rounded px-3 py-1">
          <option value="all">All</option>
          <option value="4">4 stars & above</option>
          <option value="3">3 stars & above</option>
        </select>
      </div>
      <div>
        <label class="text-lg mr-2 font-medium">Sort by:</label>
        <select id="sort-price" class="border rounded px-3 py-1">
          <option value="default">Default</option>
          <option value="asc">Price: Low to High</option>
          <option value="desc">Price: High to Low</option>
        </select>
      </div>
    </div>
  </section>

  <!-- Product Section -->
  <section class="container mx-auto px-4">
    <h3 class="text-3xl font-bold mb-8 text-gray-800">Featured Products</h3>
    <div id="product-list" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">

      <!-- Product Example -->
      <div class="product bg-white shadow-md rounded-lg p-6 text-center hover:shadow-xl transition"
           data-price="200" data-name="Cricket Ball" data-description="High-quality leather ball for professional play." data-rating="4">
        <img src="https://placehold.co/200x200?text=Cricket+Ball" alt="Cricket Ball" class="mx-auto w-32 h-32 object-cover">
        <h4 class="mt-4 font-bold text-lg">Cricket Ball</h4>
        <p class="text-yellow-500 mb-1">â˜…â˜…â˜…â˜…â˜†</p>
        <p class="text-gray-600">High-quality leather ball for professional play.</p>
        <p class="text-blue-600 font-semibold mt-2">â‚¹200</p>
        <div class="mt-4 flex flex-wrap justify-center gap-2">
          <button class="bg-blue-500 text-white px-3 py-1 rounded hover:bg-blue-600 transition add-to-cart">Add to Cart</button>
          <button class="bg-yellow-500 text-white px-3 py-1 rounded hover:bg-yellow-600 transition add-to-wishlist">â™¡ Wishlist</button>
          <button class="bg-gray-700 text-white px-3 py-1 rounded hover:bg-gray-800 transition quick-view">Quick View</button>
          <button class="bg-green-600 text-white px-3 py-1 rounded hover:bg-green-700 transition compare-btn">Compare</button>
        </div>
      </div>

    </div>
  </section>

  <!-- Floating Cart Icon -->
  <a href="/cart.html" class="fixed bottom-6 right-6 bg-blue-600 text-white p-4 rounded-full shadow-lg hover:bg-blue-700 transition duration-300 z-50 text-2xl">
    ðŸ›’
  </a>

  <!-- Quick View Modal -->
  <div id="quick-view-modal" class="fixed inset-0 bg-black bg-opacity-60 hidden items-center justify-center z-50">
    <div class="bg-white rounded-lg p-6 w-11/12 max-w-md relative">
      <button id="close-modal" class="absolute top-2 right-2 text-gray-600 hover:text-black text-xl">Ã—</button>
      <img id="modal-image" class="w-40 h-40 mx-auto object-cover rounded mb-4" src="" alt="">
      <h4 id="modal-name" class="text-2xl font-bold mb-1 text-center"></h4>
      <p id="modal-rating" class="text-yellow-500 text-center mb-1"></p>
      <p id="modal-description" class="text-gray-700 mb-4 text-center"></p>
      <p id="modal-price" class="text-blue-600 text-center font-semibold text-lg"></p>
    </div>
  </div>

  <!-- Compare Modal -->
  <div id="compare-modal" class="fixed inset-0 bg-black bg-opacity-60 hidden items-center justify-center z-50">
    <div class="bg-white rounded-lg p-6 w-11/12 max-w-4xl relative">
      <button id="close-compare" class="absolute top-2 right-2 text-gray-600 hover:text-black text-xl">Ã—</button>
      <h3 class="text-2xl font-bold text-center mb-4">Compare Products</h3>
      <div class="grid grid-cols-2 gap-6 text-center">
        <div id="compare-product-1"></div>
        <div id="compare-product-2"></div>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="bg-gray-900 text-white text-center py-4 mt-12">
    <p>&copy; 2025 ShopWithUs - All Rights Reserved.</p>
  </footer>

  <!-- Scripts -->
  <script>
    // Add to Cart
    document.querySelectorAll(".add-to-cart").forEach(button => {
      button.addEventListener("click", () => {
        const productCard = button.closest("div.product");
        const name = productCard.querySelector("h4").textContent;
        const price = productCard.querySelector("p.text-blue-600").textContent;
        const image = productCard.querySelector("img").src;
        const item = { name, price, image, quantity: 1 };

        let cart = JSON.parse(localStorage.getItem("cart")) || [];
        const index = cart.findIndex(i => i.name === item.name);
        if (index > -1) {
          cart[index].quantity += 1;
        } else {
          cart.push(item);
        }
        localStorage.setItem("cart", JSON.stringify(cart));
        alert(`${name} added to cart!`);
      });
    });

    // Wishlist
    document.querySelectorAll(".add-to-wishlist").forEach(button => {
      button.addEventListener("click", () => {
        const productCard = button.closest("div.product");
        const name = productCard.querySelector("h4").textContent;
        const price = productCard.querySelector("p.text-blue-600").textContent;
        const image = productCard.querySelector("img").src;
        const item = { name, price, image };

        let wishlist = JSON.parse(localStorage.getItem("wishlist")) || [];
        if (!wishlist.some(i => i.name === item.name)) {
          wishlist.push(item);
          localStorage.setItem("wishlist", JSON.stringify(wishlist));
          alert(`${name} added to wishlist!`);
        } else {
          alert(`${name} is already in your wishlist!`);
        }
      });
    });

    // Filter, Sort, Search
    document.getElementById("price-filter").addEventListener("change", filterAndSortProducts);
    document.getElementById("search-input").addEventListener("input", filterAndSortProducts);
    document.getElementById("sort-price").addEventListener("change", filterAndSortProducts);
    document.getElementById("rating-filter").addEventListener("change", filterAndSortProducts);

    function filterAndSortProducts() {
      const priceValue = document.getElementById("price-filter").value;
      const ratingValue = parseInt(document.getElementById("rating-filter").value) || 0;
      const searchValue = document.getElementById("search-input").value.toLowerCase();
      const sortValue = document.getElementById("sort-price").value;

      const productList = document.getElementById("product-list");
      const products = Array.from(productList.querySelectorAll(".product"));

      let filtered = products.filter(product => {
        const price = parseInt(product.getAttribute("data-price"));
        const name = product.getAttribute("data-name").toLowerCase();
        const rating = parseInt(product.getAttribute("data-rating"));
        let priceMatch = true;

        if (priceValue === "0-500") priceMatch = price <= 500;
        else if (priceValue === "501-1500") priceMatch = price > 500 && price <= 1500;
        else if (priceValue === "1501-2500") priceMatch = price > 1500 && price <= 2500;

        const searchMatch = name.includes(searchValue);
        const ratingMatch = rating >= ratingValue;

        return priceMatch && searchMatch && ratingMatch;
      });

      if (sortValue === "asc") {
        filtered.sort((a, b) => parseInt(a.dataset.price) - parseInt(b.dataset.price));
      } else if (sortValue === "desc") {
        filtered.sort((a, b) => parseInt(b.dataset.price) - parseInt(a.dataset.price));
      }

      productList.innerHTML = "";
      filtered.forEach(p => productList.appendChild(p));
    }

    filterAndSortProducts();

    // Quick View Modal
    const modal = document.getElementById("quick-view-modal");
    const modalImg = document.getElementById("modal-image");
    const modalName = document.getElementById("modal-name");
    const modalDesc = document.getElementById("modal-description");
    const modalPrice = document.getElementById("modal-price");
    const modalRating = document.getElementById("modal-rating");
    const closeModal = document.getElementById("close-modal");

    document.querySelectorAll(".quick-view").forEach(button => {
      button.addEventListener("click", () => {
        const product = button.closest(".product");
        modalImg.src = product.querySelector("img").src;
        modalName.textContent = product.getAttribute("data-name");
        modalDesc.textContent = product.getAttribute("data-description");
        modalPrice.textContent = product.querySelector(".text-blue-600").textContent;

        const rating = parseInt(product.getAttribute("data-rating"));
        modalRating.textContent = "â˜…".repeat(rating) + "â˜†".repeat(5 - rating);

        modal.classList.remove("hidden");
        modal.classList.add("flex");
      });
    });

    closeModal.addEventListener("click", () => {
      modal.classList.add("hidden");
      modal.classList.remove("flex");
    });

    modal.addEventListener("click", (e) => {
      if (e.target === modal) {
        modal.classList.add("hidden");
        modal.classList.remove("flex");
      }
    });

    // Compare Feature
    let compareItems = [];
    const compareModal = document.getElementById("compare-modal");
    const closeCompare = document.getElementById("close-compare");

    document.querySelectorAll(".compare-btn").forEach(button => {
      button.addEventListener("click", () => {
        const product = button.closest(".product");
        const data = {
          name: product.getAttribute("data-name"),
          price: product.getAttribute("data-price"),
          desc: product.getAttribute("data-description"),
          rating: product.getAttribute("data-rating"),
          img: product.querySelector("img").src
        };
        compareItems.push(data);
        if (compareItems.length === 2) {
          const [a, b] = compareItems;
          document.getElementById("compare-product-1").innerHTML = `
            <img src="${a.img}" class="mx-auto mb-2 w-24 h-24 object-cover">
            <h4 class="font-bold">${a.name}</h4>
            <p>â‚¹${a.price}</p>
            <p>Rating: ${a.rating}â˜…</p>
            <p class="text-sm text-gray-600">${a.desc}</p>
          `;
          document.getElementById("compare-product-2").innerHTML = `
            <img src="${b.img}" class="mx-auto mb-2 w-24 h-24 object-cover">
            <h4 class="font-bold">${b.name}</h4>
            <p>â‚¹${b.price}</p>
            <p>Rating: ${b.rating}â˜…</p>
            <p class="text-sm text-gray-600">${b.desc}</p>
          `;
          compareModal.classList.remove("hidden");
          compareModal.classList.add("flex");
          compareItems = [];
        } else {
          alert("Select one more product to compare.");
        }
      });
    });

    closeCompare.addEventListener("click", () => {
      compareModal.classList.add("hidden");
      compareModal.classList.remove("flex");
    });
  </script>
</body>
</html>
